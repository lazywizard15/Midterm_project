[pytest]
# Specifies that tests are contained in the 'tests' folder
testpaths = tests

# Set default command-line options
addopts = 
    -v
    --cov=app
    --cov-report=term-missing
    --cov-fail-under=90

# Automatically discover test files matching 'test_*.py'
python_files = test_*.py

# Automatically discover test functions that match 'test_*'
python_functions = test_*

# Set environment variables *only* for the test session
# This isolates your tests from your development .env file
env =
    CALCULATOR_LOG_DIR = logs_test
    CALCULATOR_HISTORY_DIR = data_test
    CALCULATOR_AUTO_SAVE = false
    CALCULATOR_MAX_HISTORY_SIZE = 10
    CALCULATOR_PRECISION = 4
    CALCULATOR_MAX_INPUT_VALUE = 1000
    CALCULATOR_DEFAULT_ENCODING = utf-8